
/*
ìƒì„ 
ë“¤ê½ƒ
ë‘íˆ¼í•œ ìƒê³ ê¸°
ê³ ê³ í•™ì˜ ê²°ì •
ì˜¤ë ˆí•˜ ìœ ë¬¼
ê³ ëŒ€ ìœ ë¬¼
ëª©ì¬
ì˜¤ë ˆí•˜ ë‘íˆ¼í•œ ìƒê³ ê¸°
íŠ¼íŠ¼í•œ ëª©ì¬
ìˆ˜ë µì˜ ê²°ì •
íˆ¬ë°•í•œ ë²„ì„¯
ë‚šì‹œì˜ ê²°ì •
ì˜¤ë ˆí•˜ íƒœì–‘ ì‰ì–´
ë‹¤ë“¬ì€ ìƒê³ ê¸°
ì² ê´‘ì„
ì§ˆê¸´ ê°€ì£½
ë‹¨ë‹¨í•œ ì² ê´‘ì„
í¬ê·€í•œ ìœ ë¬¼
ë¶€ë“œëŸ¬ìš´ ëª©ì¬
ì¹¼ë‹¤ë¥´ ë‘íˆ¼í•œ ìƒê³ ê¸°
ë¶‰ì€ ì‚´ ìƒì„ 
ìì—°ì‚° ì§„ì£¼
í™”ì‚¬í•œ ë“¤ê½ƒ
ì‹±ì‹±í•œ ë²„ì„¯
ìˆ˜ì¤ì€ ë“¤ê½ƒ
í™”ë ¤í•œ ë²„ì„¯
ë¬µì§í•œ ì² ê´‘ì„
ì¹¼ë‹¤ë¥´ ìœ ë¬¼
ì¹¼ë‹¤ë¥´ íƒœì–‘ ì‰ì–´
*/



//recipe list extractor
let recipeList = [];
document.querySelector("#lostarkDb > div.lostark.db_board.db_craft > table > tbody").querySelectorAll("tr:not(.noResult)").forEach((trNode)=>{
    let isExist = false;
    recipeList.forEach((recipe)=>{
        if(recipe.itemName === trNode.querySelector("a.name").text){
            console.log(recipe.itemName, trNode.querySelector("a.name").text)
            isExist = true;
        }
    })

    if(isExist){
        return;
    }
    
    let materialList = []
    trNode.querySelectorAll(".material_list").forEach((material)=>{
        const materialInfoArr = material.innerText.split("x");
        materialList.push({
            materialName: materialInfoArr[0].trim(),
            materialCount: parseInt(materialInfoArr[1].trim())
        })
    })
    const gold = trNode.querySelector("p.price.gold > span");
    if(gold !== null){
        materialList.push({
            materialName: "ê³¨ë“œ",
            materialCount: parseInt(gold.innerText.split("x")[1].trim())
        })
    }
    recipeList.push({
        itemName : trNode.querySelector("a.name").text,
        materials: materialList
    })
})
console.log("ì „ì²´:")
console.log(recipeList);
console.log("ë¹›ë‚˜ëŠ”í…œ:")
console.log(recipeList.filter(r => r.itemName.includes("ë¹›ë‚˜ëŠ”")));
console.log("ì•ˆë¹›ë‚˜ëŠ”í…œ:")
console.log(recipeList.filter(r => !r.itemName.includes("ë¹›ë‚˜ëŠ”")));



//sepcial recipe list extractor
let recipeList = [];
document.querySelector("#lostarkDb > div.lostark.db_board.db_craft > table > tbody").querySelectorAll("tr:not(.noResult)").forEach((trNode)=>{
    let isExist = false;
        if(trNode.querySelector("a.name").text.includes("ì§€ë„") || 
            trNode.querySelector("a.name").text.includes("ì—˜ë¦­ì„œ") || 
            trNode.querySelector("a.name").text.includes("ì¹¼ë‹¤ë¥´") || 
            trNode.querySelector("a.name").text.includes("ë¡œë§¨í‹±") || 
            trNode.querySelector("a.name").text.includes("ì´‰ë§¤") || 
            trNode.querySelector("a.name").text.includes("ì‹ ë¹„í•œ ëŒ")){
            isExist = true;
        }

    if(isExist){
        return;
    }
    
    let materialList = []
    trNode.querySelectorAll(".material_list").forEach((material)=>{
        const materialInfoArr = material.innerText.split("x");
        materialList.push({
            materialName: materialInfoArr[0].trim(),
            materialCount: parseInt(materialInfoArr[1].trim())
        })
    })
    const gold = trNode.querySelector("p.price.gold > span");
    if(gold !== null){
        materialList.push({
            materialName: "ê³¨ë“œ",
            materialCount: parseInt(gold.innerText.split("x")[1].trim())
        })
    }
    let itemName = trNode.querySelector("a.name").text
    if(itemName.includes("ìœµí™” ì¬ë£Œ")){
        if(materialList.some((item)=>{
            if(item.materialName.includes("ê³ ê¸°")){
                return true;
            }
            return false;

        })){
            itemName += '(ìˆ˜ë µ)'
        }else if(materialList.some((item)=>{
            if(item.materialName.includes("ì‰ì–´")){
                return true;
            }
            return false;

        })){
            itemName += '(ë‚šì‹œ)'
        }else if(materialList.some((item)=>{
            if(item.materialName.includes("ìœ ë¬¼")){
                return true;
            }
            return false;

        })){
            itemName += '(ê³ ê³ í•™)'
        }
    }
    recipeList.push({
        itemName,
        materials: materialList
    })
})
console.log("ì „ì²´:")
console.log(recipeList);



/*
ë² í…œ : ì¼ë°˜ -> 3ê°œì”© / ë¹›ë‚˜ëŠ” -> 2ê°œì”©
ìš”ë¦¬ëŠ” ë¬´ì¡°ê±´ 10ê°œì”©
í•˜ê¸‰, ì¤‘ê¸‰ ì˜¤ë ˆí•˜ 30ê°œ, ìƒê¸‰ 20ê°œ, ìµœìƒê¸‰ 15ê°œ

*/


/*
ì¹´í…Œê³ ë¦¬
60000 ì „íˆ¬ìš©í’ˆ(ë°°í…œ)
90000 ìƒí™œ ì¬ë£Œ
50000 ê°•í™”ì¬ë£Œ
50010 ì¬ë ¨ ì¬ë£Œ -> ìœµí™”ì¬ë£Œ
50020 ì¬ë ¨ ì¶”ê°€ ì¬ë£Œ
51000 ê¸°íƒ€ ì¬ë£Œ

*/



                                           assistant-1704261767557
https://william.wow.wrtn.ai/chat/anonymous/assistant-1704261767557?model=gpt3.5&isChocoChip=false&platform=web&user=nobody@wrtn.io


post william.wow.wrth.ai
body
{"message":"ì•ˆì•ˆë…•"}

response:
{"result":"SUCCESS","data":"assistant-1704261767557"}


get https://william.wow.wrtn.ai/chat/anonymous/${post-result.data}?model=gpt3.5&isChocoChip=false&platform=web&user=nobody@wrtn.io

{
    "result":"SUCCESS",
    "data":{
        "type":"Message",
        "role":"assistant",
        "model":"GPT3.5",
        "meta":{
            "platform":"web",
            "williamRequestId":"1f967556-96fe-47e9-953b-5721fa4ad888"
            },
        "content":"ì•ˆë…•í•˜ì„¸ìš”! ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”? ì €ì—ê²Œ ì›í•˜ì‹œëŠ” ì •ë³´ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹ ê°€ìš”? ğŸ˜Š",
        "status":"end",
        "_id":"6594f888072df45de1b0d4da",
        "createdAt":"2024-01-03T06:02:48.468Z",
        "updatedAt":"2024-01-03T06:02:48.468Z"
    }
}